function createEngineSelectionBox(){"use strict";function a(a,b){return art("LABEL",art("INPUT",{style:{margin:"0 .25em 0 0"},type:"checkbox"},b),a||null)}function b(){var a=document.createEvent("Event");a.initEvent("input",!0,!1),i.dispatchEvent(a)}function c(){var a=h.checked;Array.prototype.forEach.call(k,function(b){b.checked=a})}function d(){setTimeout(function(){h.indeterminate||c()})}function e(){var b=art(a("Select/deselect all"),{style:{display:"inline-block",margin:"0 0 .5em"}},art.on("change",c),art.on(["keyup","mouseup"],d)),e=art("TABLE",{style:{borderSpacing:"0",width:"100%"}}),n=a("Support web workers");i=art("FIELDSET",art("DIV",art("P",{style:{margin:".25em 0 .75em"}},"Select the engines you want your code to support."),b,e,art("HR"),n,art.on("change",g)),{get featureObj(){return j}}),m.forEach(function(b,c){var d,f,g,h,i=b.versions,j=1&c?{className:"engineFieldEven"}:null,k=(i.length+2)/3^0,l=3*k;for(f=0;f<l;++f)g=i[f],f%3||(d=art("TR",j),f||art(d,art("TD",{rowSpan:k,style:{padding:"0 .5em 0 0"}},b.name)),art(e,d)),h=g?a(g.number,{checked:!0,feature:g.feature}):null,art(d,art("TD",{style:{padding:"0 0 0 .5em",width:"6em"}},h))}),h=b.querySelector("INPUT"),k=e.querySelectorAll("INPUT"),l=n.querySelector("INPUT"),f()}function f(){var a=JScrewIt.Feature,b=Array.prototype.filter.call(k,function(a){return a.checked}).map(function(b){return++c,a[b.feature]}),c=b.length;h.checked=c,h.indeterminate=c&&c<k.length,j=a.commonOf.apply(null,b)||a.DEFAULT,l.checked&&(j=j.restrict("web-worker",b))}function g(){f(),b()}var h,i,j,k,l,m=[{name:"Chrome",versions:[{feature:"CHROME52",number:"52+"}]},{name:"Edge",versions:[{feature:"EDGE"}]},{name:"Firefox",versions:[{feature:"FF31",number:"31+"}]},{name:"Internet Explorer",versions:[{feature:"IE9",number:"9"},{feature:"IE10",number:"10"},{feature:"IE11",number:"11"},{feature:"IE11_WIN10",number:"11 (W10)"}]},{name:"Safari",versions:[{feature:"SAFARI70",number:"7.0"},{feature:"SAFARI71",number:"7.1–8.0"},{feature:"SAFARI90",number:"9.0"},{feature:"SAFARI100",number:"10.0"}]},{name:"Opera",versions:[{feature:"CHROME52",number:"39+"}]},{name:"Android Browser",versions:[{feature:"ANDRO40",number:"4.0"},{feature:"ANDRO41",number:"4.1–4.3"},{feature:"ANDRO44",number:"4.4"}]},{name:"Node.js",versions:[{feature:"NODE010",number:"0.10"},{feature:"NODE012",number:"0.12"},{feature:"NODE40",number:"4+"}]}];return e(),i}function showModalBox(a,b){"use strict";function c(){var a=document.body;a.removeChild(h),a.removeEventListener("keydown",f),a.removeEventListener("focus",e,!0),void 0!==b&&b()}function d(){g.focus()}function e(a){g.contains(a.target)||d()}function f(a){var b,d=a.keyCode;13!==d&&27!==d||a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||(b=document.activeElement,!b.contains(g)&&b.contains(a.target)||(c(),a.preventDefault()))}var g=art("DIV",{id:"modal-box",style:{background:"white",border:"10px solid blue",borderRadius:"20px",display:"inline-block",maxWidth:"500px",outline:"none",padding:"1em",width:"100%"},tabIndex:0},art("DIV",a,{style:{marginBottom:"1em",overflow:"hidden"}}),art("BUTTON","Ok",art.on("click",c))),h=art("DIV",{style:{background:"rgba(0, 0, 0, .25)",display:"table",position:"fixed",textAlign:"center",left:"0",top:"0",width:"100%",height:"100%"}},art("DIV",{style:{display:"table-cell",verticalAlign:"middle"}},g)),i=document.body;i.addEventListener("focus",e,!0),i.addEventListener("keydown",f),art(i,h),setTimeout(d)}function createRoll(){"use strict";function a(){var a=art("DIV");g=a.style,g.display="none",e=art("DIV",a),e.container=a,Object.defineProperty(e,"rollTo",{configurable:!0,value:c,writable:!0}),f=e.style,f.height="0",f.overflowY="hidden"}function b(){m=j+(+new Date-k)*l/250,(m-h)*l>=0&&(m=h,d()),f.height=1===m?"":e.scrollHeight*m+"px",g.display=0===m?"none":""}function c(a){if(a===m)d();else{var c=a>m?1:-1;c!==l&&(j=m,k=+new Date,l=c),h=a,i||(i=setInterval(b,0))}}function d(){clearInterval(i),i=null,l=0}var e,f,g,h,i,j,k,l=0,m=0;return a(),e}!function(){"use strict";function a(b,c){Object.keys(c).forEach(function(d){var e,f=Object.getOwnPropertyDescriptor(c,d);"value"in f?(e=f.value,d in b&&"object"==typeof e?a(b[d],e):b[d]=e):Object.defineProperty(b,d,f)})}window.art=function(b){var c,d,e,f,g;for(c=b instanceof Node?b:"function"==typeof b?b.call(art):document.createElement(b),d=arguments.length,e=0;++e<d;)f=arguments[e],f instanceof Node?c.appendChild(f):null!=f&&(g=typeof f,"object"===g?a(c,f):"function"===g?f.call(art,c):c.appendChild(document.createTextNode(f)));return c}}(),function(){"use strict";function a(a){if(!d){var b=art("STYLE");art(document.head,b),d=b.sheet}d.insertRule(a,d.cssRules.length)}function b(a,b){return Object.keys(a).map(function(c){return b(c,a[c])})}function c(a,c){return a+"{"+b(c,function(a,b){return a+":"+b}).join(";")+"}"}art.css=function(b,d){a(c(b,d))},art.css.keyframes=function(d,e){a("@keyframes "+d+"{"+b(e,c).join("")+"}")};var d}(),art.on=function(a,b,c){"use strict";function d(d){function e(a){d.addEventListener(a,b,c)}Array.isArray(a)?a.forEach(e):e(a)}return d},art.css("#modal-box:focus",{"box-shadow":"0 0 0 3px rgba(255, 255, 255, .5)"}),function(){"use strict";function a(){if("undefined"!=typeof Worker)try{z=new Worker("html/worker.js")}catch(a){}}function b(){var a,b=e();try{a=JScrewIt.encode(inputArea.value,b)}catch(a){return n(),void p(a+"")}q(a)}function c(){var a=e(),b={input:inputArea.value,options:a};y?w=b:(z.postMessage(b),n(),o(!0)),inputArea.onkeyup=null}function d(a){var b;if("string"==typeof a)b='"'+a+'"';else if(0===a&&1/a<0)b="-0";else try{b=String(a)}catch(a){}return b}function e(){return{features:s.canonicalNames}}function f(){var a=compMenu.selectedIndex,b=compMenu.options[a].value,c=b?A[b]:t.featureObj;!u&&A.areEqual(c,s)||(s=c,this()),a!==compMenu.previousIndex&&(compMenu.previousIndex=a,x.rollTo(+!b))}function g(a){"Tab"!==a.key&&c()}function h(){var a=this.result;null!=a&&(inputArea.value=a),inputArea.oninput(),inputArea.disabled=!1}function i(){var a,b,c,e,f;try{b=(0,eval)(outputArea.value)}catch(b){a=art("P",String(b))}if(void 0!==b){switch(c=d(b),typeof b){case"function":e="a function";break;case"object":e=Array.isArray(b)?b.length?"an array":"an empty array":"an object"}a=e?c?art("DIV",art("P","Evaluation result is "+e+":"),art("P",{style:{display:"inline-block",textAlign:"left",whiteSpace:"pre"}},c)):art("DIV",art("P","Evaluation result is "+e+".")):art("DIV",art("P","Evaluation result is"),art("P",{style:{display:"inline-block",textAlign:"left",whiteSpace:"pre"}},c))}null!=a&&(f=this,showModalBox(a,function(){f.focus()}))}function j(a){var b,c;w?(z.postMessage(w),w=null):(b=a.data,c=b.error,c?p(b.error):q(b.output),o(!1))}function k(){var a,d,e,g,h,k,n;document.querySelector("body>*>div").style.display="block",inputArea.value=inputArea.defaultValue,outputArea.oninput=r,art(stats.parentNode,art("BUTTON","Run this",{style:{bottom:"0",fontSize:"10pt",margin:"0",position:"absolute",right:"0"}},art.on("click",i))),function(){var a,b=A.COMPACT;A.AUTO.includes(b)?(s=b,a=1):(s=A.DEFAULT,a=0),compMenu.selectedIndex=compMenu.previousIndex=a}(),z?(a=c,z.onmessage=j,c()):(d=art("BUTTON","Encode",art.on("click",b)),art(controls,d),a=m,outputArea.value=""),"undefined"!=typeof File&&(e=art("INPUT",{accept:".js",style:{display:"none"},type:"file"},art.on("change",l)),g=HTMLElement.prototype.click.bind(e),h=art("BUTTON","Load file…",art.on("click",g)),art(controls,h,e)),inputArea.oninput=a,k=f.bind(a),compMenu.onchange=k,compMenu.onkeydown=setTimeout.bind(null,k),t=art(createEngineSelectionBox(),{className:"engineSelectionBox"},art.on("input",k)),x=createRoll(),art(x.container,art("DIV",{className:"frame"},art("SPAN","Custom Compatibility Selection"),t)),art(controls.parentNode,x),inputArea.createTextRange?(n=inputArea.createTextRange(),n.move("textedit",1),n.select()):inputArea.setSelectionRange(2147483647,2147483647),inputArea.focus()}function l(){var a,b;inputArea.disabled=!0,inputArea.value="",a=this.files[0],b=new FileReader,b.addEventListener("loadend",h),b.readAsText(a)}function m(){v&&r(!0)}function n(){v=!1,outputArea.value="",stats.textContent="…"}function o(a){y=a,outputArea.disabled=a}function p(a){showModalBox(art("P",String(a)))}function q(a){outputArea.value=a,r()}function r(a){var b=outputArea.value.length,c=1===b?"1 char":b+" chars";u=!!a,a&&(z&&(inputArea.onkeyup=g),c+=" – <i>out of sync</i>"),v=!0,stats.innerHTML=c}var s,t,u,v,w,x,y,z,A=JScrewIt.Feature;document.addEventListener("DOMContentLoaded",k),a()}();