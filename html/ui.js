function createButton(e){"use strict";function t(){f.className="button focusable",d("off")}function n(e){l()&&e.stopImmediatePropagation(),e.preventDefault()}function r(e){e.target!==f&&s()&&t()}function o(e){!e.relatedTarget&&s()&&t()}function a(e){13===e.keyCode&&(f.click(),e.preventDefault())}function i(e){32===e.keyCode&&(f.click(),e.preventDefault())}function c(e){1!==e.which||l()||s()||(f.setCapture(),f.className="active button focusable",d("on"))}function u(e){1===e.which&&s()&&(document.releaseCapture(),t())}function s(){return/\bactive\b/.test(f.className)}function l(){return!hasTabindex(f)}function d(e){var t=art[e];art(document,t("mousemove",r),t("mouseout",o))}var f=art("SPAN",{className:"button focusable"},setTabindex,art.on("click",n),art.on("keydown",a),art.on("keyup",i),art.on("mouseup",u),art("SPAN",e),art("SPAN"));return f.msMatchesSelector&&(f.firstChild.setAttribute("unselectable","on"),art(f,art.on("mousedown",c))),Object.defineProperty(f,"disabled",{configurable:!0,get:function(){return l()},set:function(e){e=!!e,e!==l()&&(e?(art(f,removeTabindex),s()&&(document.releaseCapture(),d("off")),f.blur()):art(f,setTabindex),f.className="",f.className="button focusable")}}),f}function createEngineSelectionBox(){"use strict";function e(e,t){return art("LABEL",art("INPUT",{style:{margin:"0 .25em 0 0"},type:"checkbox"},t),e)}function t(e){function t(){showModalBox(r)}var n,r=art("DIV",{className:"help-text"});return r.innerHTML=e,n=art("SPAN",{className:"focusable",style:{background:"black",borderRadius:"1em",color:"white",cursor:"pointer",display:"inline-block",fontSize:"8pt",fontWeight:"bold",lineHeight:g,position:"relative",textAlign:"center",top:"-1.5pt",width:g,height:g},title:"Learn more…"},"?",setTabindex,art.on("click",t))}function n(){var e=document.createEvent("Event");e.initEvent("input",!0,!1),s.dispatchEvent(e)}function r(){var e=u.checked;Array.prototype.forEach.call(d,function(t){t.checked=e})}function o(){setTimeout(function(){u.indeterminate||r()})}function a(){var n=art(e("Select/deselect all"),{style:{display:"inline-block",margin:"0 0 .5em"}},art.on("change",r),art.on(["keyup","mouseup"],o)),a=art("TABLE",{style:{borderSpacing:"0",width:"100%"}}),g=e(b),k=e(v);s=art("FIELDSET",{className:"engine-selection-box"},art("DIV",art("P",{style:{margin:".25em 0 .75em"}},"Select the engines you want your code to support."),n,a,art("HR"),art("DIV",k," ",t(y)),art("DIV",g," ",t(h)),art.on("change",c)),{get featureObj(){return l}}),m.forEach(function(t,n){var r,o,i,c,u=t.versions,s=1&n?{className:"even-field"}:null,l=(u.length+2)/3^0,d=3*l;for(o=0;o<d;++o)i=u[o],o%3||(r=art("TR",s),o||art(r,art("TD",{rowSpan:l,style:{padding:"0 .5em 0 0"}},t.name)),art(a,r)),c=i?e(i.number,{checked:!0,feature:i.feature}):null,art(r,art("TD",{style:{padding:"0 0 0 .5em",width:"6em"}},c))}),u=n.querySelector("INPUT"),d=a.querySelectorAll("INPUT"),f=g.querySelector("INPUT"),p=k.querySelector("INPUT"),i()}function i(){var e=JScrewIt.Feature,t=Array.prototype.filter.call(d,function(e){return e.checked}).map(function(t){return++n,e[t.feature]}),n=t.length;u.checked=n,u.indeterminate=n&&n<d.length,l=e.commonOf.apply(null,t)||e.DEFAULT,p.checked&&(l=l.restrict("web-worker",t)),f.checked&&(l=l.restrict("forced-strict-mode",t))}function c(){i(),n()}var u,s,l,d,f,p,m=[{name:"Chrome",versions:[{feature:"CHROME52",number:"52+"}]},{name:"Edge",versions:[{feature:"EDGE"}]},{name:"Firefox",versions:[{feature:"FF31",number:"31+"}]},{name:"Internet Explorer",versions:[{feature:"IE9",number:"9"},{feature:"IE10",number:"10"},{feature:"IE11",number:"11"},{feature:"IE11_WIN10",number:"11 (W10)"}]},{name:"Safari",versions:[{feature:"SAFARI70",number:"7.0"},{feature:"SAFARI71",number:"7.1–8.0"},{feature:"SAFARI90",number:"9.0"},{feature:"SAFARI100",number:"10.0"}]},{name:"Opera",versions:[{feature:"CHROME52",number:"39+"}]},{name:"Android Browser",versions:[{feature:"ANDRO40",number:"4.0"},{feature:"ANDRO41",number:"4.1–4.3"},{feature:"ANDRO44",number:"4.4"}]},{name:"Node.js",versions:[{feature:"NODE010",number:"0.10"},{feature:"NODE012",number:"0.12"},{feature:"NODE40",number:"4"},{feature:"NODE50",number:"5+"}]}],b="Generate strict mode code",h="<p>The option <dfn>"+b+"</dfn> instructs JScrewIt to avoid optimizations that don't work in strict mode JavaScript code. Check this option only if your environment disallows non-strict code. You may want to do this for example in one of the following circumstances.<ul><li>To encode a string or a number and embed it in a JavaScript file in a place where strict mode code is expected, like in a scope containing a use strict directive or in a class body.<li>To encode a script and run it in Node.js with the option <code>--use_strict</code>.<li>To encode an ECMAScript module. Note that module support in JSFuck is <em>very</em> limited, as <code>import</code> and <code>export</code> statements don't work at all. If your module doesn't contain these statements, you can encode it using this option.</ul><p>In most other cases, this option is not required, even if your script contains a top level <code>\"use strict\"</code> statement.",v="Support web workers",y="<p>Web workers are part of a standard HTML technology used to perform background tasks in JavaScript.<p>Check the option <dfn>"+v+"</dfn> only if your code needs to run inside a web worker. To create or use a web worker in your code, this option is not required.",g="10.5pt";return a(),s}function showModalBox(e,t){"use strict";function n(){var e=document.body;e.removeChild(s),art(e,art.off("keydown",a),art.off("focus",o,!0)),void 0!==t&&t()}function r(){u.focus()}function o(e){u.contains(e.target)||r()}function a(e){var t,r=e.keyCode;13!==r&&27!==r||(t=document.activeElement,!t.contains(u)&&t.contains(e.target)||(n(),e.preventDefault()))}var i=23,c=2,u=art("DIV",{style:{borderRadius:i+c+"px",display:"inline-block",maxWidth:"500px",width:"100%"}},setTabindex,art("DIV",{className:"focusable",id:"modalBox",style:{background:"whitesmoke",border:"10px solid blue",borderRadius:i+"px",margin:c+"px"}},art("DIV",{style:{margin:"1.5em 1.5em .25em",overflow:"hidden"}},e,art("DIV",{style:{margin:"1.25em 0"}},art(createButton("OK"),{style:{maxWidth:"5em",width:"100%"}},art.on("click",n)))))),s=art("DIV",{style:{background:"rgba(0, 0, 0, .25)",overflow:"auto",position:"fixed",textAlign:"center",left:"0",top:"0",bottom:"0",width:"100%"}},art("DIV",{style:{display:"table",tableLayout:"fixed",width:"100%",height:"100%"}},art("DIV",{style:{display:"table-cell",verticalAlign:"middle"}},u)));art(document.body,s,art.on("focus",o,!0),art.on("keydown",a)),setTimeout(r)}function createRoll(){"use strict";function e(){var e=art("DIV");i=e.style,i.display="none",o=art("DIV",e),o.container=e,Object.defineProperty(o,"rollTo",{configurable:!0,value:n,writable:!0}),a=o.style,a.height="0",a.overflowY="hidden"}function t(){f=s+(+new Date-l)*d/250,(f-c)*d>=0&&(f=c,r()),a.height=1===f?"":o.scrollHeight*f+"px",i.display=0===f?"none":""}function n(e){if(e===f)r();else{var n=e>f?1:-1;n!==d&&(s=f,l=+new Date,d=n),c=e,u||(u=setInterval(t,0))}}function r(){clearInterval(u),u=null,d=0}var o,a,i,c,u,s,l,d=0,f=0;return e(),o}function hasTabindex(e){"use strict";return e.hasAttribute("tabindex")}function removeTabindex(e){"use strict";e.removeAttribute("tabindex")}function setTabindex(e){"use strict";e.setAttribute("tabindex",0)}!function(){"use strict";function e(t,n){Object.keys(n).forEach(function(r){var o,a=Object.getOwnPropertyDescriptor(n,r);"value"in a?(o=a.value,r in t&&"object"==typeof o?e(t[r],o):t[r]=o):Object.defineProperty(t,r,a)})}function t(e,t,n,r){function o(o){function a(e){o[r](e,t,n)}Array.isArray(e)?e.forEach(a):a(e)}return o}function n(e){if(!a){var t=art("STYLE");art(document.head,t),a=t.sheet}a.insertRule(e,a.cssRules.length)}function r(e,t){return Object.keys(e).map(function(n){return t(n,e[n])})}function o(e,t){return e+"{"+r(t,function(e,t){return e+":"+t}).join(";")+"}"}var a;window.art=function(t){var n,r,o,a,i;for(n=t instanceof Node?t:"function"==typeof t?t.call(art):document.createElement(t),r=arguments.length,o=0;++o<r;)a=arguments[o],a instanceof Node?n.appendChild(a):null!=a&&(i=typeof a,"object"===i?e(n,a):"function"===i?a.call(art,n):n.appendChild(document.createTextNode(a)));return n},art.off=function(e,n,r){return t(e,n,r,"removeEventListener")},art.on=function(e,n,r){return t(e,n,r,"addEventListener")},art.css=function(e,t){n(o(e,t))}}(),art.css(".button",{background:"#e0e0e0",color:"#212121",cursor:"default",display:"inline-block",position:"relative"}),art.css(".button, .button>:last-child",{"border-radius":".1em"}),art.css(".button.active, .button[tabindex]:active",{background:"#29b3e5"}),art.css(".button.active>:first-child, .button[tabindex]:active>:first-child",{left:".1em",top:".1em"}),art.css(".button.active>:last-child, .button[tabindex]:active>:last-child",{"border-color":"#0088b6"}),art.css(".button:not([tabindex])",{background:"#e9e9e9",color:"#707070"}),art.css(".button:not([tabindex])>:last-child",{"border-color":"#bababa"}),art.css(".button>:first-child",{display:"inline-block",margin:".15em .5em",position:"relative","user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-webkit-user-select":"none"}),art.css(".button>:last-child",{"border-color":"#707070","border-style":"solid","border-width":"1px",display:"inline-block",position:"absolute",left:"0",right:"0",top:"0",bottom:"0"}),art.css(".button[tabindex]:hover:not(.active):not(:active)",{background:"#a3f4ff"}),art.css(".button[tabindex]:hover:not(.active):not(:active)>:last-child",{"border-color":"#189fdd"}),art.css(".engine-selection-box",{background:"#f0f0f0"}),art.css(".engine-selection-box .even-field",{background:"#fff"}),art.css(".help-text",{"font-size":"11pt","text-align":"justify"}),art.css(".help-text code",{"white-space":"pre"}),art.css(".help-text dfn",{"font-style":"normal","font-weight":"bold"}),art.css(".help-text li",{margin:".5em 0"}),art.css("#modalBox p:first-child",{"margin-top":"0"}),art.css("#modalBox p:last-child",{"margin-bottom":"0"}),function(e){"use strict";function t(e){var t,n=typeof e;try{t="string"===n?'"'+e+'"':0===e&&1/e<0?"-0":Array.isArray(e)?e.length?"[…]":"[]":"symbol"!==n?String(e):e.toString()}catch(e){}return t}function n(e){var t,n;try{t=Object.prototype.toString.call(e)}catch(e){return}return n=t.slice(8,-1)}e.formatValue=function(e){var n;if(Array.isArray(e))try{n="["+e.map(t).join(", ")+"]"}catch(e){}else n=t(e);return n},e.formatValueType=function(e){var t,r,o;if(null!==e&&(r=typeof e,"function"===r||"object"===r||"undefined"===r))switch(o=n(e)){case"Array":switch(e.length){case 0:t="an empty array";break;case 1:t="a one element array";break;default:t="an array"}break;case"Date":t="a date";break;default:t=e instanceof RegExp?"a regular expression":"function"===r?"a function":"an object"}return t}}(this),function(){"use strict";function e(){if("undefined"!=typeof Worker)try{E=new Worker("html/worker.js")}catch(e){}}function t(){var e,t=r();try{e=JScrewIt.encode(inputArea.value,t)}catch(e){return f(),void m(e+"")}b(e)}function n(){var e=r(),t={input:inputArea.value,options:e};I?A=t:(E.postMessage(t),f(),p(!0)),inputArea.onkeyup=null}function r(){return{features:v.canonicalNames}}function o(){var e=compMenu.selectedIndex,t=compMenu.options[e].value,n=t?S[t]:y.featureObj;!k&&S.areEqual(n,v)||(v=n,this()),e!==compMenu.previousIndex&&(compMenu.previousIndex=e,w.rollTo(+!t))}function a(e){9!==e.keyCode&&n()}function i(){g.disabled=!1;var e=this.result;null!=e&&(inputArea.value=e),inputArea.oninput(),inputArea.disabled=!1}function c(){var e,t,n,r,o,a;try{t=(0,eval)(outputArea.value)}catch(t){e=art("P",String(t))}void 0!==t&&(n=formatValue(t),r=formatValueType(t),n?(o=r?"Evaluation result is "+r+":":"Evaluation result is",e=art("DIV",art("P",o),art("P",{style:{overflowX:"auto"}},art("DIV",{style:{display:"inline-block",textAlign:"left",whiteSpace:"pre"}},n)))):e=art("DIV",art("P","Evaluation result is "+r+"."))),null!=e&&(a=this,showModalBox(e,function(){a.focus()}))}function u(e){var t,n;A?(E.postMessage(A),A=null):(t=e.data,n=t.error,n?m(t.error):b(t.output),p(!1))}function s(){var e,r,a,i,s,f;document.querySelector("body>*>div").style.display="block",inputArea.value=inputArea.defaultValue,outputArea.oninput=h,art(stats.parentNode,art(createButton("Run this"),{style:{bottom:"0",fontSize:"10pt",position:"absolute",right:"0"}},art.on("click",c))),function(){var e=S.COMPACT;v=S.AUTO.includes(e)?e:S.BROWSER,compMenu.value=v.name,compMenu.previousIndex=compMenu.selectedIndex}(),E?(e=n,E.onmessage=u,n()):(r=art(createButton("Encode"),art.on("click",t)),art(controls,r),e=d,outputArea.value=""),"undefined"!=typeof File&&(a=art("INPUT",{accept:".js",style:{display:"none"},type:"file"},art.on("change",l)),i=HTMLInputElement.prototype.click.bind(a),g=art(createButton("Load file…"),art.on("click",i)),art(controls,g,a)),inputArea.oninput=e,s=o.bind(e),compMenu.onchange=s,compMenu.onkeydown=setTimeout.bind(null,s),y=art(createEngineSelectionBox(),art.on("input",s)),w=createRoll(),art(w.container,art("DIV",{className:"frame"},art("SPAN","Custom Compatibility Selection"),y)),art(controls.parentNode,w),inputArea.createTextRange?(f=inputArea.createTextRange(),f.move("textedit",1),f.select()):inputArea.setSelectionRange(2147483647,2147483647),inputArea.focus()}function l(){var e,t=this.files[0];t&&(inputArea.disabled=!0,inputArea.value="",g.disabled=!0,e=new FileReader,e.addEventListener("loadend",i),e.readAsText(t))}function d(){x&&h(!0)}function f(){x=!1,outputArea.value="",stats.textContent="…"}function p(e){I=e,outputArea.disabled=e}function m(e){showModalBox(art("P",String(e)))}function b(e){outputArea.value=e,h()}function h(e){var t=outputArea.value.length,n=1===t?"1 char":t+" chars";k=!!e,e&&(E&&(inputArea.onkeyup=a),n+=" – <i>out of sync</i>"),x=!0,stats.innerHTML=n}var v,y,g,k,x,A,w,I,E,S=JScrewIt.Feature;document.addEventListener("DOMContentLoaded",s),e()}();